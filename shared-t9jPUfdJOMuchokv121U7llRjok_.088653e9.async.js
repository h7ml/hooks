"use strict";(self.webpackChunk_dext7r_hooks=self.webpackChunk_dext7r_hooks||[]).push([[4271],{74174:function(Be,Ze,u){u.d(Ze,{Z:function(){return m}});var ue=u(13238),me=u(51151),de=u(12027),Te=u(23572),Le=u(12801),S=u(37718),b=u(97548),Ke=u(30957),v=u(32041),g=u(84875),V=u.n(g),Q=u(89663),L=u(75271),fe=u(52795),se=function(f){for(var $=f.prefixCls,t=f.level,F=f.isStart,P=f.isEnd,G="".concat($,"-indent-unit"),o=[],d=0;d<t;d+=1)o.push(L.createElement("span",{key:d,className:V()(G,(0,v.Z)((0,v.Z)({},"".concat(G,"-start"),F[d]),"".concat(G,"-end"),P[d]))}));return L.createElement("span",{"aria-hidden":"true",className:"".concat($,"-indent")},o)},k=L.memo(se),le=u(19554),_=u(73794),te=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],H="open",a="close",s="---",K=function(I){(0,b.Z)($,I);var f=(0,Ke.Z)($);function $(){var t;(0,Te.Z)(this,$);for(var F=arguments.length,P=new Array(F),G=0;G<F;G++)P[G]=arguments[G];return t=f.call.apply(f,[this].concat(P)),(0,v.Z)((0,S.Z)(t),"state",{dragNodeHighlight:!1}),(0,v.Z)((0,S.Z)(t),"selectHandle",void 0),(0,v.Z)((0,S.Z)(t),"cacheIndent",void 0),(0,v.Z)((0,S.Z)(t),"onSelectorClick",function(o){var d=t.props.context.onNodeClick;d(o,(0,_.F)(t.props)),t.isSelectable()?t.onSelect(o):t.onCheck(o)}),(0,v.Z)((0,S.Z)(t),"onSelectorDoubleClick",function(o){var d=t.props.context.onNodeDoubleClick;d(o,(0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"onSelect",function(o){if(!t.isDisabled()){var d=t.props.context.onNodeSelect;d(o,(0,_.F)(t.props))}}),(0,v.Z)((0,S.Z)(t),"onCheck",function(o){if(!t.isDisabled()){var d=t.props,E=d.disableCheckbox,x=d.checked,O=t.props.context.onNodeCheck;if(!(!t.isCheckable()||E)){var ee=!x;O(o,(0,_.F)(t.props),ee)}}}),(0,v.Z)((0,S.Z)(t),"onMouseEnter",function(o){var d=t.props.context.onNodeMouseEnter;d(o,(0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"onMouseLeave",function(o){var d=t.props.context.onNodeMouseLeave;d(o,(0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"onContextMenu",function(o){var d=t.props.context.onNodeContextMenu;d(o,(0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"onDragStart",function(o){var d=t.props.context.onNodeDragStart;o.stopPropagation(),t.setState({dragNodeHighlight:!0}),d(o,(0,S.Z)(t));try{o.dataTransfer.setData("text/plain","")}catch(E){}}),(0,v.Z)((0,S.Z)(t),"onDragEnter",function(o){var d=t.props.context.onNodeDragEnter;o.preventDefault(),o.stopPropagation(),d(o,(0,S.Z)(t))}),(0,v.Z)((0,S.Z)(t),"onDragOver",function(o){var d=t.props.context.onNodeDragOver;o.preventDefault(),o.stopPropagation(),d(o,(0,S.Z)(t))}),(0,v.Z)((0,S.Z)(t),"onDragLeave",function(o){var d=t.props.context.onNodeDragLeave;o.stopPropagation(),d(o,(0,S.Z)(t))}),(0,v.Z)((0,S.Z)(t),"onDragEnd",function(o){var d=t.props.context.onNodeDragEnd;o.stopPropagation(),t.setState({dragNodeHighlight:!1}),d(o,(0,S.Z)(t))}),(0,v.Z)((0,S.Z)(t),"onDrop",function(o){var d=t.props.context.onNodeDrop;o.preventDefault(),o.stopPropagation(),t.setState({dragNodeHighlight:!1}),d(o,(0,S.Z)(t))}),(0,v.Z)((0,S.Z)(t),"onExpand",function(o){var d=t.props,E=d.loading,x=d.context.onNodeExpand;E||x(o,(0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"setSelectHandle",function(o){t.selectHandle=o}),(0,v.Z)((0,S.Z)(t),"getNodeState",function(){var o=t.props.expanded;return t.isLeaf()?null:o?H:a}),(0,v.Z)((0,S.Z)(t),"hasChildren",function(){var o=t.props.eventKey,d=t.props.context.keyEntities,E=(0,le.Z)(d,o)||{},x=E.children;return!!(x||[]).length}),(0,v.Z)((0,S.Z)(t),"isLeaf",function(){var o=t.props,d=o.isLeaf,E=o.loaded,x=t.props.context.loadData,O=t.hasChildren();return d===!1?!1:d||!x&&!O||x&&E&&!O}),(0,v.Z)((0,S.Z)(t),"isDisabled",function(){var o=t.props.disabled,d=t.props.context.disabled;return!!(d||o)}),(0,v.Z)((0,S.Z)(t),"isCheckable",function(){var o=t.props.checkable,d=t.props.context.checkable;return!d||o===!1?!1:d}),(0,v.Z)((0,S.Z)(t),"syncLoadData",function(o){var d=o.expanded,E=o.loading,x=o.loaded,O=t.props.context,ee=O.loadData,oe=O.onNodeLoad;E||ee&&d&&!t.isLeaf()&&!x&&oe((0,_.F)(t.props))}),(0,v.Z)((0,S.Z)(t),"isDraggable",function(){var o=t.props,d=o.data,E=o.context.draggable;return!!(E&&(!E.nodeDraggable||E.nodeDraggable(d)))}),(0,v.Z)((0,S.Z)(t),"renderDragHandler",function(){var o=t.props.context,d=o.draggable,E=o.prefixCls;return d!=null&&d.icon?L.createElement("span",{className:"".concat(E,"-draggable-icon")},d.icon):null}),(0,v.Z)((0,S.Z)(t),"renderSwitcherIconDom",function(o){var d=t.props.switcherIcon,E=t.props.context.switcherIcon,x=d||E;return typeof x=="function"?x((0,de.Z)((0,de.Z)({},t.props),{},{isLeaf:o})):x}),(0,v.Z)((0,S.Z)(t),"renderSwitcher",function(){var o=t.props.expanded,d=t.props.context.prefixCls;if(t.isLeaf()){var E=t.renderSwitcherIconDom(!0);return E!==!1?L.createElement("span",{className:V()("".concat(d,"-switcher"),"".concat(d,"-switcher-noop"))},E):null}var x=V()("".concat(d,"-switcher"),"".concat(d,"-switcher_").concat(o?H:a)),O=t.renderSwitcherIconDom(!1);return O!==!1?L.createElement("span",{onClick:t.onExpand,className:x},O):null}),(0,v.Z)((0,S.Z)(t),"renderCheckbox",function(){var o=t.props,d=o.checked,E=o.halfChecked,x=o.disableCheckbox,O=t.props.context.prefixCls,ee=t.isDisabled(),oe=t.isCheckable();if(!oe)return null;var w=typeof oe!="boolean"?oe:null;return L.createElement("span",{className:V()("".concat(O,"-checkbox"),d&&"".concat(O,"-checkbox-checked"),!d&&E&&"".concat(O,"-checkbox-indeterminate"),(ee||x)&&"".concat(O,"-checkbox-disabled")),onClick:t.onCheck},w)}),(0,v.Z)((0,S.Z)(t),"renderIcon",function(){var o=t.props.loading,d=t.props.context.prefixCls;return L.createElement("span",{className:V()("".concat(d,"-iconEle"),"".concat(d,"-icon__").concat(t.getNodeState()||"docu"),o&&"".concat(d,"-icon_loading"))})}),(0,v.Z)((0,S.Z)(t),"renderSelector",function(){var o=t.state.dragNodeHighlight,d=t.props,E=d.title,x=E===void 0?s:E,O=d.selected,ee=d.icon,oe=d.loading,w=d.data,ie=t.props.context,ne=ie.prefixCls,ke=ie.showIcon,Ce=ie.icon,Pe=ie.loadData,B=ie.titleRender,he=t.isDisabled(),xe="".concat(ne,"-node-content-wrapper"),be;if(ke){var ge=ee||Ce;be=ge?L.createElement("span",{className:V()("".concat(ne,"-iconEle"),"".concat(ne,"-icon__customize"))},typeof ge=="function"?ge(t.props):ge):t.renderIcon()}else Pe&&oe&&(be=t.renderIcon());var Ne;typeof x=="function"?Ne=x(w):B?Ne=B(w):Ne=x;var Ee=L.createElement("span",{className:"".concat(ne,"-title")},Ne);return L.createElement("span",{ref:t.setSelectHandle,title:typeof x=="string"?x:"",className:V()("".concat(xe),"".concat(xe,"-").concat(t.getNodeState()||"normal"),!he&&(O||o)&&"".concat(ne,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},be,Ee,t.renderDropIndicator())}),(0,v.Z)((0,S.Z)(t),"renderDropIndicator",function(){var o=t.props,d=o.disabled,E=o.eventKey,x=t.props.context,O=x.draggable,ee=x.dropLevelOffset,oe=x.dropPosition,w=x.prefixCls,ie=x.indent,ne=x.dropIndicatorRender,ke=x.dragOverNodeKey,Ce=x.direction,Pe=!!O,B=!d&&Pe&&ke===E,he=ie!=null?ie:t.cacheIndent;return t.cacheIndent=ie,B?ne({dropPosition:oe,dropLevelOffset:ee,indent:he,prefixCls:w,direction:Ce}):null}),t}return(0,Le.Z)($,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var F=this.props.selectable,P=this.props.context.selectable;return typeof F=="boolean"?F:P}},{key:"render",value:function(){var F,P=this.props,G=P.eventKey,o=P.className,d=P.style,E=P.dragOver,x=P.dragOverGapTop,O=P.dragOverGapBottom,ee=P.isLeaf,oe=P.isStart,w=P.isEnd,ie=P.expanded,ne=P.selected,ke=P.checked,Ce=P.halfChecked,Pe=P.loading,B=P.domRef,he=P.active,xe=P.data,be=P.onMouseMove,ge=P.selectable,Ne=(0,me.Z)(P,te),Ee=this.props.context,l=Ee.prefixCls,T=Ee.filterTreeNode,j=Ee.keyEntities,e=Ee.dropContainerKey,p=Ee.dropTargetKey,Y=Ee.draggingNodeKey,A=this.isDisabled(),n=(0,Q.Z)(Ne,{aria:!0,data:!0}),i=(0,le.Z)(j,G)||{},r=i.level,c=w[w.length-1],h=this.isDraggable(),D=!A&&h,C=Y===G,M=ge!==void 0?{"aria-selected":!!ge}:void 0;return L.createElement("div",(0,ue.Z)({ref:B,className:V()(o,"".concat(l,"-treenode"),(F={},(0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)(F,"".concat(l,"-treenode-disabled"),A),"".concat(l,"-treenode-switcher-").concat(ie?"open":"close"),!ee),"".concat(l,"-treenode-checkbox-checked"),ke),"".concat(l,"-treenode-checkbox-indeterminate"),Ce),"".concat(l,"-treenode-selected"),ne),"".concat(l,"-treenode-loading"),Pe),"".concat(l,"-treenode-active"),he),"".concat(l,"-treenode-leaf-last"),c),"".concat(l,"-treenode-draggable"),h),"dragging",C),(0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)((0,v.Z)(F,"drop-target",p===G),"drop-container",e===G),"drag-over",!A&&E),"drag-over-gap-top",!A&&x),"drag-over-gap-bottom",!A&&O),"filter-node",T&&T((0,_.F)(this.props))))),style:d,draggable:D,"aria-grabbed":C,onDragStart:D?this.onDragStart:void 0,onDragEnter:h?this.onDragEnter:void 0,onDragOver:h?this.onDragOver:void 0,onDragLeave:h?this.onDragLeave:void 0,onDrop:h?this.onDrop:void 0,onDragEnd:h?this.onDragEnd:void 0,onMouseMove:be},M,n),L.createElement(k,{prefixCls:l,level:r,isStart:oe,isEnd:w}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),$}(L.Component),N=function(f){return L.createElement(fe.k.Consumer,null,function($){return L.createElement(K,(0,ue.Z)({},f,{context:$}))})};N.displayName="TreeNode",N.isTreeNode=1;var m=N},52795:function(Be,Ze,u){u.d(Ze,{k:function(){return me}});var ue=u(75271),me=ue.createContext(null)},23725:function(Be,Ze,u){u.d(Ze,{O:function(){return m.Z},Z:function(){return Ee}});var ue=u(13238),me=u(79087),de=u(12027),Te=u(45222),Le=u(23572),S=u(12801),b=u(37718),Ke=u(97548),v=u(30957),g=u(32041),V=u(84875),Q=u.n(V),L=u(46018),fe=u(89663),se=u(2835),k=u(75271),le=u(52795);function _(l){var T=l.dropPosition,j=l.dropLevelOffset,e=l.indent,p={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(T){case-1:p.top=0,p.left=-j*e;break;case 1:p.bottom=0,p.left=-j*e;break;case 0:p.bottom=0,p.left=e;break}return k.createElement("div",{style:p})}function te(l){if(l==null)throw new TypeError("Cannot destructure "+l)}var H=u(17789),a=u(51151),s=u(97002),K=u(33779),N=u(63686),m=u(74174);function I(l,T){var j=k.useState(!1),e=(0,H.Z)(j,2),p=e[0],Y=e[1];(0,s.Z)(function(){if(p)return l(),function(){T()}},[p]),(0,s.Z)(function(){return Y(!0),function(){Y(!1)}},[])}var f=u(73794),$=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],t=function(T,j){var e=T.className,p=T.style,Y=T.motion,A=T.motionNodes,n=T.motionType,i=T.onMotionStart,r=T.onMotionEnd,c=T.active,h=T.treeNodeRequiredProps,D=(0,a.Z)(T,$),C=k.useState(!0),M=(0,H.Z)(C,2),U=M[0],y=M[1],Z=k.useContext(le.k),X=Z.prefixCls,W=A&&n!=="hide";(0,s.Z)(function(){A&&W!==U&&y(W)},[A]);var R=function(){A&&i()},z=k.useRef(!1),J=function(){A&&!z.current&&(z.current=!0,r())};I(R,J);var ve=function(re){W===re&&J()};return A?k.createElement(N.ZP,(0,ue.Z)({ref:j,visible:U},Y,{motionAppear:n==="show",onVisibleChanged:ve}),function(q,re){var ye=q.className,pe=q.style;return k.createElement("div",{ref:re,className:Q()("".concat(X,"-treenode-motion"),ye),style:pe},A.map(function(ae){var De=Object.assign({},(te(ae.data),ae.data)),Me=ae.title,Oe=ae.key,Ie=ae.isStart,Se=ae.isEnd;delete De.children;var Re=(0,f.H8)(Oe,h);return k.createElement(m.Z,(0,ue.Z)({},De,Re,{title:Me,active:c,data:ae.data,key:Oe,isStart:Ie,isEnd:Se}))}))}):k.createElement(m.Z,(0,ue.Z)({domRef:j,className:e,style:p},D,{active:c}))};t.displayName="MotionTreeNode";var F=k.forwardRef(t),P=F;function G(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],j=l.length,e=T.length;if(Math.abs(j-e)!==1)return{add:!1,key:null};function p(Y,A){var n=new Map;Y.forEach(function(r){n.set(r,!0)});var i=A.filter(function(r){return!n.has(r)});return i.length===1?i[0]:null}return j<e?{add:!0,key:p(l,T)}:{add:!1,key:p(T,l)}}function o(l,T,j){var e=l.findIndex(function(n){return n.key===j}),p=l[e+1],Y=T.findIndex(function(n){return n.key===j});if(p){var A=T.findIndex(function(n){return n.key===p.key});return T.slice(Y+1,A)}return T.slice(Y+1)}var d=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],E={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},x=function(){},O="RC_TREE_MOTION_".concat(Math.random()),ee={key:O},oe={key:O,level:0,index:0,pos:"0",node:ee,nodes:[ee]},w={parent:null,children:[],pos:oe.pos,data:ee,title:null,key:O,isStart:[],isEnd:[]};function ie(l,T,j,e){return T===!1||!j?l:l.slice(0,Math.ceil(j/e)+1)}function ne(l){var T=l.key,j=l.pos;return(0,f.km)(T,j)}function ke(l){for(var T=String(l.data.key),j=l;j.parent;)j=j.parent,T="".concat(j.data.key," > ").concat(T);return T}var Ce=k.forwardRef(function(l,T){var j=l.prefixCls,e=l.data,p=l.selectable,Y=l.checkable,A=l.expandedKeys,n=l.selectedKeys,i=l.checkedKeys,r=l.loadedKeys,c=l.loadingKeys,h=l.halfCheckedKeys,D=l.keyEntities,C=l.disabled,M=l.dragging,U=l.dragOverNodeKey,y=l.dropPosition,Z=l.motion,X=l.height,W=l.itemHeight,R=l.virtual,z=l.focusable,J=l.activeItem,ve=l.focused,q=l.tabIndex,re=l.onKeyDown,ye=l.onFocus,pe=l.onBlur,ae=l.onActiveChange,De=l.onListChangeStart,Me=l.onListChangeEnd,Oe=(0,a.Z)(l,d),Ie=k.useRef(null),Se=k.useRef(null);k.useImperativeHandle(T,function(){return{scrollTo:function(Ae){Ie.current.scrollTo(Ae)},getIndentWidth:function(){return Se.current.offsetWidth}}});var Re=k.useState(A),Ve=(0,H.Z)(Re,2),_e=Ve[0],qe=Ve[1],et=k.useState(e),Ye=(0,H.Z)(et,2),$e=Ye[0],Xe=Ye[1],tt=k.useState(e),Je=(0,H.Z)(tt,2),nt=Je[0],We=Je[1],He=k.useState([]),dt=(0,H.Z)(He,2),ct=dt[0],rt=dt[1],ut=k.useState(null),it=(0,H.Z)(ut,2),ft=it[0],at=it[1],st=k.useRef(e);st.current=e;function ot(){var ce=st.current;Xe(ce),We(ce),rt([]),at(null),Me()}(0,s.Z)(function(){qe(A);var ce=G(_e,A);if(ce.key!==null)if(ce.add){var Ae=$e.findIndex(function(Ge){var ze=Ge.key;return ze===ce.key}),we=ie(o($e,e,ce.key),R,X,W),je=$e.slice();je.splice(Ae+1,0,w),We(je),rt(we),at("show")}else{var Ue=e.findIndex(function(Ge){var ze=Ge.key;return ze===ce.key}),Fe=ie(o(e,$e,ce.key),R,X,W),Qe=e.slice();Qe.splice(Ue+1,0,w),We(Qe),rt(Fe),at("hide")}else $e!==e&&(Xe(e),We(e))},[A,e]),k.useEffect(function(){M||ot()},[M]);var vt=Z?nt:e,lt={expandedKeys:A,selectedKeys:n,loadedKeys:r,loadingKeys:c,checkedKeys:i,halfCheckedKeys:h,dragOverNodeKey:U,dropPosition:y,keyEntities:D};return k.createElement(k.Fragment,null,ve&&J&&k.createElement("span",{style:E,"aria-live":"assertive"},ke(J)),k.createElement("div",null,k.createElement("input",{style:E,disabled:z===!1||C,tabIndex:z!==!1?q:null,onKeyDown:re,onFocus:ye,onBlur:pe,value:"",onChange:x,"aria-label":"for screen reader"})),k.createElement("div",{className:"".concat(j,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},k.createElement("div",{className:"".concat(j,"-indent")},k.createElement("div",{ref:Se,className:"".concat(j,"-indent-unit")}))),k.createElement(K.Z,(0,ue.Z)({},Oe,{data:vt,itemKey:ne,height:X,fullHeight:!1,virtual:R,itemHeight:W,prefixCls:"".concat(j,"-list"),ref:Ie,onVisibleChange:function(Ae,we){var je=new Set(Ae),Ue=we.filter(function(Fe){return!je.has(Fe)});Ue.some(function(Fe){return ne(Fe)===O})&&ot()}}),function(ce){var Ae=ce.pos,we=Object.assign({},(te(ce.data),ce.data)),je=ce.title,Ue=ce.key,Fe=ce.isStart,Qe=ce.isEnd,Ge=(0,f.km)(Ue,Ae);delete we.key,delete we.children;var ze=(0,f.H8)(Ge,lt);return k.createElement(P,(0,ue.Z)({},we,ze,{title:je,active:!!J&&Ue===J.key,pos:Ae,data:ce.data,isStart:Fe,isEnd:Qe,motion:Z,motionNodes:Ue===O?ct:null,motionType:ft,onMotionStart:De,onMotionEnd:ot,treeNodeRequiredProps:lt,onMouseMove:function(){ae(null)}}))}))});Ce.displayName="NodeList";var Pe=Ce,B=u(22378),he=u(33214),xe=u(19554),be=10,ge=function(l){(0,Ke.Z)(j,l);var T=(0,v.Z)(j);function j(){var e;(0,Le.Z)(this,j);for(var p=arguments.length,Y=new Array(p),A=0;A<p;A++)Y[A]=arguments[A];return e=T.call.apply(T,[this].concat(Y)),(0,g.Z)((0,b.Z)(e),"destroyed",!1),(0,g.Z)((0,b.Z)(e),"delayedDragEnterLogic",void 0),(0,g.Z)((0,b.Z)(e),"loadingRetryTimes",{}),(0,g.Z)((0,b.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,f.w$)()}),(0,g.Z)((0,b.Z)(e),"dragStartMousePosition",null),(0,g.Z)((0,b.Z)(e),"dragNode",void 0),(0,g.Z)((0,b.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,g.Z)((0,b.Z)(e),"listRef",k.createRef()),(0,g.Z)((0,b.Z)(e),"onNodeDragStart",function(n,i){var r=e.state,c=r.expandedKeys,h=r.keyEntities,D=e.props.onDragStart,C=i.props.eventKey;e.dragNode=i,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var M=(0,B._5)(c,C);e.setState({draggingNodeKey:C,dragChildrenKeys:(0,B.wA)(C,h),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(M),window.addEventListener("dragend",e.onWindowDragEnd),D==null||D({event:n,node:(0,f.F)(i.props)})}),(0,g.Z)((0,b.Z)(e),"onNodeDragEnter",function(n,i){var r=e.state,c=r.expandedKeys,h=r.keyEntities,D=r.dragChildrenKeys,C=r.flattenNodes,M=r.indent,U=e.props,y=U.onDragEnter,Z=U.onExpand,X=U.allowDrop,W=U.direction,R=i.props,z=R.pos,J=R.eventKey,ve=(0,b.Z)(e),q=ve.dragNode;if(e.currentMouseOverDroppableNodeKey!==J&&(e.currentMouseOverDroppableNodeKey=J),!q){e.resetDragState();return}var re=(0,B.OM)(n,q,i,M,e.dragStartMousePosition,X,C,h,c,W),ye=re.dropPosition,pe=re.dropLevelOffset,ae=re.dropTargetKey,De=re.dropContainerKey,Me=re.dropTargetPos,Oe=re.dropAllowed,Ie=re.dragOverNodeKey;if(D.indexOf(ae)!==-1||!Oe){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Se){clearTimeout(e.delayedDragEnterLogic[Se])}),q.props.eventKey!==i.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[z]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Se=(0,Te.Z)(c),Re=(0,xe.Z)(h,i.props.eventKey);Re&&(Re.children||[]).length&&(Se=(0,B.L0)(c,i.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Se),Z==null||Z(Se,{node:(0,f.F)(i.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),q.props.eventKey===ae&&pe===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ie,dropPosition:ye,dropLevelOffset:pe,dropTargetKey:ae,dropContainerKey:De,dropTargetPos:Me,dropAllowed:Oe}),y==null||y({event:n,node:(0,f.F)(i.props),expandedKeys:c})}),(0,g.Z)((0,b.Z)(e),"onNodeDragOver",function(n,i){var r=e.state,c=r.dragChildrenKeys,h=r.flattenNodes,D=r.keyEntities,C=r.expandedKeys,M=r.indent,U=e.props,y=U.onDragOver,Z=U.allowDrop,X=U.direction,W=(0,b.Z)(e),R=W.dragNode;if(R){var z=(0,B.OM)(n,R,i,M,e.dragStartMousePosition,Z,h,D,C,X),J=z.dropPosition,ve=z.dropLevelOffset,q=z.dropTargetKey,re=z.dropContainerKey,ye=z.dropAllowed,pe=z.dropTargetPos,ae=z.dragOverNodeKey;c.indexOf(q)!==-1||!ye||(R.props.eventKey===q&&ve===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():J===e.state.dropPosition&&ve===e.state.dropLevelOffset&&q===e.state.dropTargetKey&&re===e.state.dropContainerKey&&pe===e.state.dropTargetPos&&ye===e.state.dropAllowed&&ae===e.state.dragOverNodeKey||e.setState({dropPosition:J,dropLevelOffset:ve,dropTargetKey:q,dropContainerKey:re,dropTargetPos:pe,dropAllowed:ye,dragOverNodeKey:ae}),y==null||y({event:n,node:(0,f.F)(i.props)}))}}),(0,g.Z)((0,b.Z)(e),"onNodeDragLeave",function(n,i){e.currentMouseOverDroppableNodeKey===i.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:n,node:(0,f.F)(i.props)})}),(0,g.Z)((0,b.Z)(e),"onWindowDragEnd",function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,g.Z)((0,b.Z)(e),"onNodeDragEnd",function(n,i){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:n,node:(0,f.F)(i.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,g.Z)((0,b.Z)(e),"onNodeDrop",function(n,i){var r,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=e.state,D=h.dragChildrenKeys,C=h.dropPosition,M=h.dropTargetKey,U=h.dropTargetPos,y=h.dropAllowed;if(y){var Z=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),M!==null){var X=(0,de.Z)((0,de.Z)({},(0,f.H8)(M,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===M,data:(0,xe.Z)(e.state.keyEntities,M).node}),W=D.indexOf(M)!==-1;(0,se.ZP)(!W,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var R=(0,B.yx)(U),z={event:n,node:(0,f.F)(X),dragNode:e.dragNode?(0,f.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(D),dropToGap:C!==0,dropPosition:C+Number(R[R.length-1])};c||Z==null||Z(z),e.dragNode=null}}}),(0,g.Z)((0,b.Z)(e),"cleanDragState",function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,g.Z)((0,b.Z)(e),"triggerExpandActionExpand",function(n,i){var r=e.state,c=r.expandedKeys,h=r.flattenNodes,D=i.expanded,C=i.key,M=i.isLeaf;if(!(M||n.shiftKey||n.metaKey||n.ctrlKey)){var U=h.filter(function(Z){return Z.key===C})[0],y=(0,f.F)((0,de.Z)((0,de.Z)({},(0,f.H8)(C,e.getTreeNodeRequiredProps())),{},{data:U.data}));e.setExpandedKeys(D?(0,B._5)(c,C):(0,B.L0)(c,C)),e.onNodeExpand(n,y)}}),(0,g.Z)((0,b.Z)(e),"onNodeClick",function(n,i){var r=e.props,c=r.onClick,h=r.expandAction;h==="click"&&e.triggerExpandActionExpand(n,i),c==null||c(n,i)}),(0,g.Z)((0,b.Z)(e),"onNodeDoubleClick",function(n,i){var r=e.props,c=r.onDoubleClick,h=r.expandAction;h==="doubleClick"&&e.triggerExpandActionExpand(n,i),c==null||c(n,i)}),(0,g.Z)((0,b.Z)(e),"onNodeSelect",function(n,i){var r=e.state.selectedKeys,c=e.state,h=c.keyEntities,D=c.fieldNames,C=e.props,M=C.onSelect,U=C.multiple,y=i.selected,Z=i[D.key],X=!y;X?U?r=(0,B.L0)(r,Z):r=[Z]:r=(0,B._5)(r,Z);var W=r.map(function(R){var z=(0,xe.Z)(h,R);return z?z.node:null}).filter(function(R){return R});e.setUncontrolledState({selectedKeys:r}),M==null||M(r,{event:"select",selected:X,node:i,selectedNodes:W,nativeEvent:n.nativeEvent})}),(0,g.Z)((0,b.Z)(e),"onNodeCheck",function(n,i,r){var c=e.state,h=c.keyEntities,D=c.checkedKeys,C=c.halfCheckedKeys,M=e.props,U=M.checkStrictly,y=M.onCheck,Z=i.key,X,W={event:"check",node:i,checked:r,nativeEvent:n.nativeEvent};if(U){var R=r?(0,B.L0)(D,Z):(0,B._5)(D,Z),z=(0,B._5)(C,Z);X={checked:R,halfChecked:z},W.checkedNodes=R.map(function(pe){return(0,xe.Z)(h,pe)}).filter(function(pe){return pe}).map(function(pe){return pe.node}),e.setUncontrolledState({checkedKeys:R})}else{var J=(0,he.S)([].concat((0,Te.Z)(D),[Z]),!0,h),ve=J.checkedKeys,q=J.halfCheckedKeys;if(!r){var re=new Set(ve);re.delete(Z);var ye=(0,he.S)(Array.from(re),{checked:!1,halfCheckedKeys:q},h);ve=ye.checkedKeys,q=ye.halfCheckedKeys}X=ve,W.checkedNodes=[],W.checkedNodesPositions=[],W.halfCheckedKeys=q,ve.forEach(function(pe){var ae=(0,xe.Z)(h,pe);if(ae){var De=ae.node,Me=ae.pos;W.checkedNodes.push(De),W.checkedNodesPositions.push({node:De,pos:Me})}}),e.setUncontrolledState({checkedKeys:ve},!1,{halfCheckedKeys:q})}y==null||y(X,W)}),(0,g.Z)((0,b.Z)(e),"onNodeLoad",function(n){var i,r=n.key,c=e.state.keyEntities,h=(0,xe.Z)(c,r);if(!(h!=null&&(i=h.children)!==null&&i!==void 0&&i.length)){var D=new Promise(function(C,M){e.setState(function(U){var y=U.loadedKeys,Z=y===void 0?[]:y,X=U.loadingKeys,W=X===void 0?[]:X,R=e.props,z=R.loadData,J=R.onLoad;if(!z||Z.indexOf(r)!==-1||W.indexOf(r)!==-1)return null;var ve=z(n);return ve.then(function(){var q=e.state.loadedKeys,re=(0,B.L0)(q,r);J==null||J(re,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:re}),e.setState(function(ye){return{loadingKeys:(0,B._5)(ye.loadingKeys,r)}}),C()}).catch(function(q){if(e.setState(function(ye){return{loadingKeys:(0,B._5)(ye.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=be){var re=e.state.loadedKeys;(0,se.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,B.L0)(re,r)}),C()}M(q)}),{loadingKeys:(0,B.L0)(W,r)}})});return D.catch(function(){}),D}}),(0,g.Z)((0,b.Z)(e),"onNodeMouseEnter",function(n,i){var r=e.props.onMouseEnter;r==null||r({event:n,node:i})}),(0,g.Z)((0,b.Z)(e),"onNodeMouseLeave",function(n,i){var r=e.props.onMouseLeave;r==null||r({event:n,node:i})}),(0,g.Z)((0,b.Z)(e),"onNodeContextMenu",function(n,i){var r=e.props.onRightClick;r&&(n.preventDefault(),r({event:n,node:i}))}),(0,g.Z)((0,b.Z)(e),"onFocus",function(){var n=e.props.onFocus;e.setState({focused:!0});for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];n==null||n.apply(void 0,r)}),(0,g.Z)((0,b.Z)(e),"onBlur",function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];n==null||n.apply(void 0,r)}),(0,g.Z)((0,b.Z)(e),"getTreeNodeRequiredProps",function(){var n=e.state,i=n.expandedKeys,r=n.selectedKeys,c=n.loadedKeys,h=n.loadingKeys,D=n.checkedKeys,C=n.halfCheckedKeys,M=n.dragOverNodeKey,U=n.dropPosition,y=n.keyEntities;return{expandedKeys:i||[],selectedKeys:r||[],loadedKeys:c||[],loadingKeys:h||[],checkedKeys:D||[],halfCheckedKeys:C||[],dragOverNodeKey:M,dropPosition:U,keyEntities:y}}),(0,g.Z)((0,b.Z)(e),"setExpandedKeys",function(n){var i=e.state,r=i.treeData,c=i.fieldNames,h=(0,f.oH)(r,n,c);e.setUncontrolledState({expandedKeys:n,flattenNodes:h},!0)}),(0,g.Z)((0,b.Z)(e),"onNodeExpand",function(n,i){var r=e.state.expandedKeys,c=e.state,h=c.listChanging,D=c.fieldNames,C=e.props,M=C.onExpand,U=C.loadData,y=i.expanded,Z=i[D.key];if(!h){var X=r.indexOf(Z),W=!y;if((0,se.ZP)(y&&X!==-1||!y&&X===-1,"Expand state not sync with index check"),W?r=(0,B.L0)(r,Z):r=(0,B._5)(r,Z),e.setExpandedKeys(r),M==null||M(r,{node:i,expanded:W,nativeEvent:n.nativeEvent}),W&&U){var R=e.onNodeLoad(i);R&&R.then(function(){var z=(0,f.oH)(e.state.treeData,r,D);e.setUncontrolledState({flattenNodes:z})}).catch(function(){var z=e.state.expandedKeys,J=(0,B._5)(z,Z);e.setExpandedKeys(J)})}}}),(0,g.Z)((0,b.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,g.Z)((0,b.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,g.Z)((0,b.Z)(e),"onActiveChange",function(n){var i=e.state.activeKey,r=e.props,c=r.onActiveChange,h=r.itemScrollOffset,D=h===void 0?0:h;i!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n,offset:D}),c==null||c(n))}),(0,g.Z)((0,b.Z)(e),"getActiveItem",function(){var n=e.state,i=n.activeKey,r=n.flattenNodes;return i===null?null:r.find(function(c){var h=c.key;return h===i})||null}),(0,g.Z)((0,b.Z)(e),"offsetActiveKey",function(n){var i=e.state,r=i.flattenNodes,c=i.activeKey,h=r.findIndex(function(M){var U=M.key;return U===c});h===-1&&n<0&&(h=r.length),h=(h+n+r.length)%r.length;var D=r[h];if(D){var C=D.key;e.onActiveChange(C)}else e.onActiveChange(null)}),(0,g.Z)((0,b.Z)(e),"onKeyDown",function(n){var i=e.state,r=i.activeKey,c=i.expandedKeys,h=i.checkedKeys,D=i.fieldNames,C=e.props,M=C.onKeyDown,U=C.checkable,y=C.selectable;switch(n.which){case L.Z.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case L.Z.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var Z=e.getActiveItem();if(Z&&Z.data){var X=e.getTreeNodeRequiredProps(),W=Z.data.isLeaf===!1||!!(Z.data[D.children]||[]).length,R=(0,f.F)((0,de.Z)((0,de.Z)({},(0,f.H8)(r,X)),{},{data:Z.data,active:!0}));switch(n.which){case L.Z.LEFT:{W&&c.includes(r)?e.onNodeExpand({},R):Z.parent&&e.onActiveChange(Z.parent.key),n.preventDefault();break}case L.Z.RIGHT:{W&&!c.includes(r)?e.onNodeExpand({},R):Z.children&&Z.children.length&&e.onActiveChange(Z.children[0].key),n.preventDefault();break}case L.Z.ENTER:case L.Z.SPACE:{U&&!R.disabled&&R.checkable!==!1&&!R.disableCheckbox?e.onNodeCheck({},R,!h.includes(r)):!U&&y&&!R.disabled&&R.selectable!==!1&&e.onNodeSelect({},R);break}}}M==null||M(n)}),(0,g.Z)((0,b.Z)(e),"setUncontrolledState",function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,h=!0,D={};Object.keys(n).forEach(function(C){if(C in e.props){h=!1;return}c=!0,D[C]=n[C]}),c&&(!i||h)&&e.setState((0,de.Z)((0,de.Z)({},D),r))}}),(0,g.Z)((0,b.Z)(e),"scrollTo",function(n){e.listRef.current.scrollTo(n)}),e}return(0,S.Z)(j,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var p=this.props,Y=p.activeKey,A=p.itemScrollOffset,n=A===void 0?0:A;Y!==void 0&&Y!==this.state.activeKey&&(this.setState({activeKey:Y}),Y!==null&&this.scrollTo({key:Y,offset:n}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var p=this.state,Y=p.focused,A=p.flattenNodes,n=p.keyEntities,i=p.draggingNodeKey,r=p.activeKey,c=p.dropLevelOffset,h=p.dropContainerKey,D=p.dropTargetKey,C=p.dropPosition,M=p.dragOverNodeKey,U=p.indent,y=this.props,Z=y.prefixCls,X=y.className,W=y.style,R=y.showLine,z=y.focusable,J=y.tabIndex,ve=J===void 0?0:J,q=y.selectable,re=y.showIcon,ye=y.icon,pe=y.switcherIcon,ae=y.draggable,De=y.checkable,Me=y.checkStrictly,Oe=y.disabled,Ie=y.motion,Se=y.loadData,Re=y.filterTreeNode,Ve=y.height,_e=y.itemHeight,qe=y.virtual,et=y.titleRender,Ye=y.dropIndicatorRender,$e=y.onContextMenu,Xe=y.onScroll,tt=y.direction,Je=y.rootClassName,nt=y.rootStyle,We=(0,fe.Z)(this.props,{aria:!0,data:!0}),He;return ae&&((0,me.Z)(ae)==="object"?He=ae:typeof ae=="function"?He={nodeDraggable:ae}:He={}),k.createElement(le.k.Provider,{value:{prefixCls:Z,selectable:q,showIcon:re,icon:ye,switcherIcon:pe,draggable:He,draggingNodeKey:i,checkable:De,checkStrictly:Me,disabled:Oe,keyEntities:n,dropLevelOffset:c,dropContainerKey:h,dropTargetKey:D,dropPosition:C,dragOverNodeKey:M,indent:U,direction:tt,dropIndicatorRender:Ye,loadData:Se,filterTreeNode:Re,titleRender:et,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},k.createElement("div",{role:"tree",className:Q()(Z,X,Je,(0,g.Z)((0,g.Z)((0,g.Z)({},"".concat(Z,"-show-line"),R),"".concat(Z,"-focused"),Y),"".concat(Z,"-active-focused"),r!==null)),style:nt},k.createElement(Pe,(0,ue.Z)({ref:this.listRef,prefixCls:Z,style:W,data:A,disabled:Oe,selectable:q,checkable:!!De,motion:Ie,dragging:i!==null,height:Ve,itemHeight:_e,virtual:qe,focusable:z,focused:Y,tabIndex:ve,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:$e,onScroll:Xe},this.getTreeNodeRequiredProps(),We))))}}],[{key:"getDerivedStateFromProps",value:function(p,Y){var A=Y.prevProps,n={prevProps:p};function i(J){return!A&&J in p||A&&A[J]!==p[J]}var r,c=Y.fieldNames;if(i("fieldNames")&&(c=(0,f.w$)(p.fieldNames),n.fieldNames=c),i("treeData")?r=p.treeData:i("children")&&((0,se.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,f.zn)(p.children)),r){n.treeData=r;var h=(0,f.I8)(r,{fieldNames:c});n.keyEntities=(0,de.Z)((0,g.Z)({},O,oe),h.keyEntities)}var D=n.keyEntities||Y.keyEntities;if(i("expandedKeys")||A&&i("autoExpandParent"))n.expandedKeys=p.autoExpandParent||!A&&p.defaultExpandParent?(0,B.r7)(p.expandedKeys,D):p.expandedKeys;else if(!A&&p.defaultExpandAll){var C=(0,de.Z)({},D);delete C[O],n.expandedKeys=Object.keys(C).map(function(J){return C[J].key})}else!A&&p.defaultExpandedKeys&&(n.expandedKeys=p.autoExpandParent||p.defaultExpandParent?(0,B.r7)(p.defaultExpandedKeys,D):p.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,r||n.expandedKeys){var M=(0,f.oH)(r||Y.treeData,n.expandedKeys||Y.expandedKeys,c);n.flattenNodes=M}if(p.selectable&&(i("selectedKeys")?n.selectedKeys=(0,B.BT)(p.selectedKeys,p):!A&&p.defaultSelectedKeys&&(n.selectedKeys=(0,B.BT)(p.defaultSelectedKeys,p))),p.checkable){var U;if(i("checkedKeys")?U=(0,B.E6)(p.checkedKeys)||{}:!A&&p.defaultCheckedKeys?U=(0,B.E6)(p.defaultCheckedKeys)||{}:r&&(U=(0,B.E6)(p.checkedKeys)||{checkedKeys:Y.checkedKeys,halfCheckedKeys:Y.halfCheckedKeys}),U){var y=U,Z=y.checkedKeys,X=Z===void 0?[]:Z,W=y.halfCheckedKeys,R=W===void 0?[]:W;if(!p.checkStrictly){var z=(0,he.S)(X,!0,D);X=z.checkedKeys,R=z.halfCheckedKeys}n.checkedKeys=X,n.halfCheckedKeys=R}}return i("loadedKeys")&&(n.loadedKeys=p.loadedKeys),n}}]),j}(k.Component);(0,g.Z)(ge,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:_,allowDrop:function(){return!0},expandAction:!1}),(0,g.Z)(ge,"TreeNode",m.Z);var Ne=ge,Ee=Ne},22378:function(Be,Ze,u){u.d(Ze,{BT:function(){return k},E6:function(){return te},L0:function(){return g},OM:function(){return se},_5:function(){return v},r7:function(){return H},wA:function(){return Q},yx:function(){return V}});var ue=u(45222),me=u(79087),de=u(2835),Te=u(75271),Le=u(74174),S=u(19554),b=u(73794),Ke=null;function v(a,s){if(!a)return[];var K=a.slice(),N=K.indexOf(s);return N>=0&&K.splice(N,1),K}function g(a,s){var K=(a||[]).slice();return K.indexOf(s)===-1&&K.push(s),K}function V(a){return a.split("-")}function Q(a,s){var K=[],N=(0,S.Z)(s,a);function m(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];I.forEach(function(f){var $=f.key,t=f.children;K.push($),m(t)})}return m(N.children),K}function L(a){if(a.parent){var s=V(a.pos);return Number(s[s.length-1])===a.parent.children.length-1}return!1}function fe(a){var s=V(a.pos);return Number(s[s.length-1])===0}function se(a,s,K,N,m,I,f,$,t,F){var P,G=a.clientX,o=a.clientY,d=a.target.getBoundingClientRect(),E=d.top,x=d.height,O=(F==="rtl"?-1:1)*(((m==null?void 0:m.x)||0)-G),ee=(O-12)/N,oe=t.filter(function(l){var T;return(T=$[l])===null||T===void 0||(T=T.children)===null||T===void 0?void 0:T.length}),w=(0,S.Z)($,K.props.eventKey);if(o<E+x/2){var ie=f.findIndex(function(l){return l.key===w.key}),ne=ie<=0?0:ie-1,ke=f[ne].key;w=(0,S.Z)($,ke)}var Ce=w.key,Pe=w,B=w.key,he=0,xe=0;if(!oe.includes(Ce))for(var be=0;be<ee&&L(w);be+=1)w=w.parent,xe+=1;var ge=s.props.data,Ne=w.node,Ee=!0;return fe(w)&&w.level===0&&o<E+x/2&&I({dragNode:ge,dropNode:Ne,dropPosition:-1})&&w.key===K.props.eventKey?he=-1:(Pe.children||[]).length&&oe.includes(B)?I({dragNode:ge,dropNode:Ne,dropPosition:0})?he=0:Ee=!1:xe===0?ee>-1.5?I({dragNode:ge,dropNode:Ne,dropPosition:1})?he=1:Ee=!1:I({dragNode:ge,dropNode:Ne,dropPosition:0})?he=0:I({dragNode:ge,dropNode:Ne,dropPosition:1})?he=1:Ee=!1:I({dragNode:ge,dropNode:Ne,dropPosition:1})?he=1:Ee=!1,{dropPosition:he,dropLevelOffset:xe,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:B,dropContainerKey:he===0?null:((P=w.parent)===null||P===void 0?void 0:P.key)||null,dropAllowed:Ee}}function k(a,s){if(a){var K=s.multiple;return K?a.slice():a.length?[a[0]]:a}}var le=function(s){return s};function _(a,s){if(!a)return[];var K=s||{},N=K.processProps,m=N===void 0?le:N,I=Array.isArray(a)?a:[a];return I.map(function(f){var $=f.children,t=_objectWithoutProperties(f,Ke),F=_($,s);return React.createElement(TreeNode,_extends({key:t.key},m(t)),F)})}function te(a){if(!a)return null;var s;if(Array.isArray(a))s={checkedKeys:a,halfCheckedKeys:void 0};else if((0,me.Z)(a)==="object")s={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,de.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return s}function H(a,s){var K=new Set;function N(m){if(!K.has(m)){var I=(0,S.Z)(s,m);if(I){K.add(m);var f=I.parent,$=I.node;$.disabled||f&&N(f.key)}}}return(a||[]).forEach(function(m){N(m)}),(0,ue.Z)(K)}},33214:function(Be,Ze,u){u.d(Ze,{S:function(){return b}});var ue=u(2835),me=u(19554);function de(Ke,v){var g=new Set;return Ke.forEach(function(V){v.has(V)||g.add(V)}),g}function Te(Ke){var v=Ke||{},g=v.disabled,V=v.disableCheckbox,Q=v.checkable;return!!(g||V)||Q===!1}function Le(Ke,v,g,V){for(var Q=new Set(Ke),L=new Set,fe=0;fe<=g;fe+=1){var se=v.get(fe)||new Set;se.forEach(function(te){var H=te.key,a=te.node,s=te.children,K=s===void 0?[]:s;Q.has(H)&&!V(a)&&K.filter(function(N){return!V(N.node)}).forEach(function(N){Q.add(N.key)})})}for(var k=new Set,le=g;le>=0;le-=1){var _=v.get(le)||new Set;_.forEach(function(te){var H=te.parent,a=te.node;if(!(V(a)||!te.parent||k.has(te.parent.key))){if(V(te.parent.node)){k.add(H.key);return}var s=!0,K=!1;(H.children||[]).filter(function(N){return!V(N.node)}).forEach(function(N){var m=N.key,I=Q.has(m);s&&!I&&(s=!1),!K&&(I||L.has(m))&&(K=!0)}),s&&Q.add(H.key),K&&L.add(H.key),k.add(H.key)}})}return{checkedKeys:Array.from(Q),halfCheckedKeys:Array.from(de(L,Q))}}function S(Ke,v,g,V,Q){for(var L=new Set(Ke),fe=new Set(v),se=0;se<=V;se+=1){var k=g.get(se)||new Set;k.forEach(function(H){var a=H.key,s=H.node,K=H.children,N=K===void 0?[]:K;!L.has(a)&&!fe.has(a)&&!Q(s)&&N.filter(function(m){return!Q(m.node)}).forEach(function(m){L.delete(m.key)})})}fe=new Set;for(var le=new Set,_=V;_>=0;_-=1){var te=g.get(_)||new Set;te.forEach(function(H){var a=H.parent,s=H.node;if(!(Q(s)||!H.parent||le.has(H.parent.key))){if(Q(H.parent.node)){le.add(a.key);return}var K=!0,N=!1;(a.children||[]).filter(function(m){return!Q(m.node)}).forEach(function(m){var I=m.key,f=L.has(I);K&&!f&&(K=!1),!N&&(f||fe.has(I))&&(N=!0)}),K||L.delete(a.key),N&&fe.add(a.key),le.add(a.key)}})}return{checkedKeys:Array.from(L),halfCheckedKeys:Array.from(de(fe,L))}}function b(Ke,v,g,V){var Q=[],L;V?L=V:L=Te;var fe=new Set(Ke.filter(function(_){var te=!!(0,me.Z)(g,_);return te||Q.push(_),te})),se=new Map,k=0;Object.keys(g).forEach(function(_){var te=g[_],H=te.level,a=se.get(H);a||(a=new Set,se.set(H,a)),a.add(te),k=Math.max(k,H)}),(0,ue.ZP)(!Q.length,"Tree missing follow keys: ".concat(Q.slice(0,100).map(function(_){return"'".concat(_,"'")}).join(", ")));var le;return v===!0?le=Le(fe,se,k,L):le=S(fe,v.halfCheckedKeys,se,k,L),le}},19554:function(Be,Ze,u){u.d(Ze,{Z:function(){return ue}});function ue(me,de){return me[de]}},73794:function(Be,Ze,u){u.d(Ze,{F:function(){return H},H8:function(){return te},I8:function(){return _},km:function(){return Q},oH:function(){return k},w$:function(){return L},zn:function(){return se}});var ue=u(79087),me=u(45222),de=u(12027),Te=u(51151),Le=u(31893),S=u(41435),b=u(2835),Ke=u(19554),v=["children"];function g(a,s){return"".concat(a,"-").concat(s)}function V(a){return a&&a.type&&a.type.isTreeNode}function Q(a,s){return a!=null?a:s}function L(a){var s=a||{},K=s.title,N=s._title,m=s.key,I=s.children,f=K||"title";return{title:f,_title:N||[f],key:m||"key",children:I||"children"}}function fe(a,s){var K=new Map;function N(m){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(m||[]).forEach(function(f){var $=f[s.key],t=f[s.children];warning($!=null,"Tree node must have a certain key: [".concat(I).concat($,"]"));var F=String($);warning(!K.has(F)||$===null||$===void 0,"Same 'key' exist in the Tree: ".concat(F)),K.set(F,!0),N(t,"".concat(I).concat(F," > "))})}N(a)}function se(a){function s(K){var N=(0,Le.Z)(K);return N.map(function(m){if(!V(m))return(0,b.ZP)(!m,"Tree/TreeNode can only accept TreeNode as children."),null;var I=m.key,f=m.props,$=f.children,t=(0,Te.Z)(f,v),F=(0,de.Z)({key:I},t),P=s($);return P.length&&(F.children=P),F}).filter(function(m){return m})}return s(a)}function k(a,s,K){var N=L(K),m=N._title,I=N.key,f=N.children,$=new Set(s===!0?[]:s),t=[];function F(P){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return P.map(function(o,d){for(var E=g(G?G.pos:"0",d),x=Q(o[I],E),O,ee=0;ee<m.length;ee+=1){var oe=m[ee];if(o[oe]!==void 0){O=o[oe];break}}var w=Object.assign((0,S.Z)(o,[].concat((0,me.Z)(m),[I,f])),{title:O,key:x,parent:G,pos:E,children:null,data:o,isStart:[].concat((0,me.Z)(G?G.isStart:[]),[d===0]),isEnd:[].concat((0,me.Z)(G?G.isEnd:[]),[d===P.length-1])});return t.push(w),s===!0||$.has(x)?w.children=F(o[f]||[],w):w.children=[],w})}return F(a),t}function le(a,s,K){var N={};(0,ue.Z)(K)==="object"?N=K:N={externalGetKey:K},N=N||{};var m=N,I=m.childrenPropName,f=m.externalGetKey,$=m.fieldNames,t=L($),F=t.key,P=t.children,G=I||P,o;f?typeof f=="string"?o=function(x){return x[f]}:typeof f=="function"&&(o=function(x){return f(x)}):o=function(x,O){return Q(x[F],O)};function d(E,x,O,ee){var oe=E?E[G]:a,w=E?g(O.pos,x):"0",ie=E?[].concat((0,me.Z)(ee),[E]):[];if(E){var ne=o(E,w),ke={node:E,index:x,pos:w,key:ne,parentPos:O.node?O.pos:null,level:O.level+1,nodes:ie};s(ke)}oe&&oe.forEach(function(Ce,Pe){d(Ce,Pe,{node:E,pos:w,level:O?O.level+1:-1},ie)})}d(null)}function _(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=s.initWrapper,N=s.processEntity,m=s.onProcessFinished,I=s.externalGetKey,f=s.childrenPropName,$=s.fieldNames,t=arguments.length>2?arguments[2]:void 0,F=I||t,P={},G={},o={posEntities:P,keyEntities:G};return K&&(o=K(o)||o),le(a,function(d){var E=d.node,x=d.index,O=d.pos,ee=d.key,oe=d.parentPos,w=d.level,ie=d.nodes,ne={node:E,nodes:ie,index:x,key:ee,pos:O,level:w},ke=Q(ee,O);P[O]=ne,G[ke]=ne,ne.parent=P[oe],ne.parent&&(ne.parent.children=ne.parent.children||[],ne.parent.children.push(ne)),N&&N(ne,o)},{externalGetKey:F,childrenPropName:f,fieldNames:$}),m&&m(o),o}function te(a,s){var K=s.expandedKeys,N=s.selectedKeys,m=s.loadedKeys,I=s.loadingKeys,f=s.checkedKeys,$=s.halfCheckedKeys,t=s.dragOverNodeKey,F=s.dropPosition,P=s.keyEntities,G=(0,Ke.Z)(P,a),o={eventKey:a,expanded:K.indexOf(a)!==-1,selected:N.indexOf(a)!==-1,loaded:m.indexOf(a)!==-1,loading:I.indexOf(a)!==-1,checked:f.indexOf(a)!==-1,halfChecked:$.indexOf(a)!==-1,pos:String(G?G.pos:""),dragOver:t===a&&F===0,dragOverGapTop:t===a&&F===-1,dragOverGapBottom:t===a&&F===1};return o}function H(a){var s=a.data,K=a.expanded,N=a.selected,m=a.checked,I=a.loaded,f=a.loading,$=a.halfChecked,t=a.dragOver,F=a.dragOverGapTop,P=a.dragOverGapBottom,G=a.pos,o=a.active,d=a.eventKey,E=(0,de.Z)((0,de.Z)({},s),{},{expanded:K,selected:N,checked:m,loaded:I,loading:f,halfChecked:$,dragOver:t,dragOverGapTop:F,dragOverGapBottom:P,pos:G,active:o,key:d});return"props"in E||Object.defineProperty(E,"props",{get:function(){return(0,b.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),E}}}]);
